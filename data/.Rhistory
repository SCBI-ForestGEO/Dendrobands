?lapply
avggrowth[,lapply(avggrowth,mean),keys]
avggrowth <- setDT(trends)
avggrowth[,lapply(avggrowth$measure,mean),keys]
View(avggrowth)
library(data.table)
keys <- colnames(trends)[!grepl('measure',colnames(trends))]
avggrowth <- setDT(trends)
avggrowth[,lapply(.SD,mean),keys]
library(data.table)
keys <- colnames(trends)[!grepl('measure',colnames(trends))]
avggrowth <- as.data.table(trends)
avggrowth[,lapply(.SD,mean),keys]
avggrowth[,list(mm=mean(measure)),keys]
avggrowth[,lapply(.SD,mean), by=keys]
avggrowth[,lapply(.SD,mean), by=tag]
aggregate(measure ~ ., mean, data=trends)
avggrowth <- aggregate(measure ~ ., mean, data=trends)
View(trends)
test <- do.call(rbind,lapply(lapply(split(trends,trends$tag),`[`,5),colMeans))
dat3<-trends[,list(avggrowth=mean(measure)),list(tag)]
View(dat3)
dat4<-with(trends,aggregate(cbind(measure),list(tag),FUN=mean))
colnames(dat4)<-colnames(trends)[c(1:5)]
View(dat4)
View(dat3)
View(dat4)
library(plyr)
dat5<-ddply(trends,.(tag),colwise(mean,c("measure")))
View(dat3)
dat3<-trends[,list(avggrowth=diff(measure)),list(tag)]
View(dat3)
growth$sp <- duplicated(trends$sp)
growth<-trends[,list(band.growth=diff(measure)),list(tag)]
growth$sp <- duplicated(trends$sp)
View(growth)
?list
X <- trends[,duplicated(trends$tag)]
X <- trends[,c("tag", "sp")]
X$tag <- duplicated(X$tag)
View(X)
X$tag <- unique(X$tag)
View(X)
X <- unique(X[,"tag"])
View(X)
X <- trends[,c("tag", "sp")]
X <- unique(X[,"tag"])
View(X)
X <- trends[,c("tag", "sp")]
X <- X[duplicated(X),]
View(X)
data_2018 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/2018/scbi.dendroAll_2018.csv")
trends <- data_2018[,c("tag", "stemtag", "survey.ID", "sp", "measure")]
trends <- trends[which(trends$survey.ID==c('2018.01', '2018.14')), ]
growth<-trends[,list(band.growth=diff(measure)),list(tag)]
View(trends)
growth<-trends[,list(band.growth=diff(trends$measure)),list(trends$tag)]
growth<-trends[,list(band.growth=diff(trends$measure))&list(trends$tag)]
growth <- data.table(trends)
growth<-trends[,list(band.growth=diff(measure))&list(tag)]
View(growth)
data_2018 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/2018/scbi.dendroAll_2018.csv")
trends <- data_2018[,c("tag", "stemtag", "survey.ID", "sp", "measure")]
trends <- trends[which(trends$survey.ID==c('2018.01', '2018.14')), ]
library(data.table)
growth <- data.table(trends)
growth<-trends[,list(band.growth=diff(measure))&list(tag)]
growth<-trends[,list(band.growth=diff(measure)),list(tag)]
growth<-growth[,list(band.growth=diff(measure)),list(tag)]
X <- trends[,c("tag", "sp")]
X <- X[duplicated(X),]
growth <- data.table(trends)
growth<-growth[,list(band.growth=diff(measure)),list(tag),list(sp)]
growth<-growth[,list(band.growth=diff(measure)),list(tag,sp)]
View(growth)
order(growth)
order(growth$band.growth)
growth <- data.table(trends)
growth<-growth[,list(band.growth=diff(measure)),list(tag,sp,measure)]
View(growth)
range <- c(growth$band.growth)
growth <- data.table(trends)
growth<-growth[,list(band.growth=diff(measure)),list(tag,sp)]
range <- c(growth$band.growth)
range <- c(sort(growth$band.growth))
range <- c(sort(growth$band.growth, decreasing=FALSE))
range <- c(sort(growth$band.growth, decreasing=TRUE))
mean(range)
range
range <- range[range >=0]
range
mean(range)
sd(range)
data_2018 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/2018/scbi.dendroAll_2018.csv")
trends <- data_2018[,c("tag", "stemtag", "survey.ID", "sp", "measure")]
trends <- trends[which(trends$survey.ID==c('2018.01', '2018.14')), ]
##determine which trees will need to have dendroband replaced based on measurements. The max a caliper can measure is 153.71 mm.
library(data.table)
growth <- data.table(trends)
growth<-growth[,list(band.growth=diff(measure)),list(tag,sp)]
##range of measurement values over the growing season
range <- c(sort(growth$band.growth, decreasing=TRUE))
range <- range[range >=0]
range
mean(range)
sd(range)
data_install<-data_2018[which(data_2018$survey.ID=='2018.14'), ]
View(data_install)
data_install$codes <- ifelse(data_install$measure>=133, paste(data_install$codes, "RD", sep = ";"), data_install$codes)
View(data_install)
# Create field_form_bandreplace forms from master
setwd()
data_2018 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/2018/scbi.dendroAll_2018.csv")
trends <- data_2018[,c("tag", "stemtag", "survey.ID", "sp", "measure")]
trends <- trends[which(trends$survey.ID==c('2018.01', '2018.14')), ]
##determine which trees will need to have dendroband replaced based on measurements. The max a caliper can measure is 153.71 mm.
library(data.table)
growth <- data.table(trends)
growth<-growth[,list(band.growth=diff(measure)),list(tag,sp)]
##range of measurement values over the growing season
range <- c(sort(growth$band.growth, decreasing=TRUE))
range <- range[range >=0]
range
mean(range)
sd(range)
##in 2018's example, mean=11.88 and sd=8.94, so I'm assigning values in measure >= 133 to have a code of RD.
data_install<-data_2018[which(data_2018$survey.ID=='2018.14'), ]
data_install$codes <- ifelse(data_install$measure>=133, paste(data_install$codes, "RD", sep = ";"), data_install$codes)
View(data_install)
ifelse(data_install$codes %in% "", "", ";")
ifelse(data_install$measure>=133 & !grepl("RD", data_install$codes), paste(data_install$codes, "RD", sep = ifelse(data_install$codes %in% "", "", ";"), data_install$codes))
data_install$measure>=133 & !grepl("RD", data_install$codes)
paste(data_install$codes, "RD", sep = ifelse(data_install$codes %in% "", "", ";")
paste(data_install$codes, "RD", sep = ifelse(data_install$codes %in% "", "", ";"))
# Create field_form_bandreplace forms from master
setwd()
data_2018 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/2018/scbi.dendroAll_2018.csv")
trends <- data_2018[,c("tag", "stemtag", "survey.ID", "sp", "measure")]
trends <- trends[which(trends$survey.ID==c('2018.01', '2018.14')), ]
##determine which trees will need to have dendroband replaced based on measurements. The max a caliper can measure is 153.71 mm.
library(data.table)
growth <- data.table(trends)
growth<-growth[,list(band.growth=diff(measure)),list(tag,sp)]
##range of measurement values over the growing season
range <- c(sort(growth$band.growth, decreasing=TRUE))
range <- range[range >=0]
range
mean(range)
sd(range)
##in 2018's example, mean=11.88 and sd=8.94, so I'm assigning values in measure >= 133 to have a code of RD.
data_install<-data_2018[which(data_2018$survey.ID=='2018.14'), ]
paste(data_install$codes, "RD", sep = ifelse(data_install$codes %in% "", "", ";")
)
ifelse(data_install$measure>=133 & !grepl("RD", data_install$codes), paste(data_install$codes, "RD", sep = ifelse(data_install$codes %in% "", "", ";")), data_install$codes)
data_install$measure>=133 & !grepl("RD", data_install$codes)
ifelse(data_install$measure>=133 & !grepl("RD", data_install$codes), paste(data_install$codes, "RD", sep = ";") data_install$codes)
ifelse(data_install$measure>=133 & !grepl("RD", data_install$codes), paste(data_install$codes, "RD", sep = ";"), data_install$codes)
data_install$measure >= 133
data_install$codes
data_install$codes <- as.character(data_install$codes)
ifelse(data_install$measure >= 133 & !grepl("RD", data_install$codes), paste(data_install$codes, "RD", sep = ";"), data_install$codes)
grepl("^;", "", data_install$codes)
data_install$codes
data_install$codes <- ifelse(data_install$measure >= 133 & !grepl("RD", data_install$codes), paste(data_install$codes, "RD", sep = ";"), data_install$codes)
gsub("^;", "", data_install$codes)
data_install$codes <- gsub("^;", "", data_install$codes)
View(data_install)
data_2018 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/2018/scbi.dendroAll_2018.csv")
trends <- data_2018[,c("tag", "stemtag", "survey.ID", "sp", "measure")]
trends <- trends[which(trends$survey.ID==c('2018.01', '2018.14')), ]
##determine which trees will need to have dendroband replaced based on measurements. The max a caliper can measure is 153.71 mm.
library(data.table)
growth <- data.table(trends)
growth<-growth[,list(band.growth=diff(measure)),list(tag,sp)]
##range of measurement values over the growing season
range <- c(sort(growth$band.growth, decreasing=TRUE))
range <- range[range >=0]
range
mean(range)
sd(range)
data_install<-data_2018[which(data_2018$codes=='RD'), ]
View(data_install)
data_install<-data_2018[which(data_2018$survey.ID=='2018.14'), ]
data_install$codes <- as.character(data_install$codes)
data_install$codes <- ifelse(data_install$measure >= 133 & !grepl("RD", data_install$codes), paste(data_install$codes, "RD", sep = ";"), data_install$codes)
data_install$codes <- gsub("^;", "", data_install$codes)
data_install<-data_install[which(data_install$codes %in% 'RD'), ]
View(data_install)
data_install<-data_2018[which(data_2018$survey.ID=='2018.14'), ]
data_install$codes <- as.character(data_install$codes)
data_install$codes <- ifelse(data_install$measure >= 133 & !grepl("RD", data_install$codes), paste(data_install$codes, "RD", sep = ";"), data_install$codes)
data_install$codes <- gsub("^;", "", data_install$codes)
View(data_install)
View(data_2018)
data_install<-data_install[which(data_install$codes %in% 'RD'), ]
data_install<-data_2018[which(data_2018$survey.ID=='2018.14'), ]
data_install$codes <- as.character(data_install$codes)
data_install$codes <- ifelse(data_install$measure >= 133 & !grepl("RD", data_install$codes), paste(data_install$codes, "RD", sep = ";"), data_install$codes)
data_install$codes <- gsub("^;", "", data_install$codes)
data_install<-data_install[grepl("RD",data_install[["codes"]]), ]
data_2018 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/2018/scbi.dendroAll_2018.csv")
trends <- data_2018[,c("tag", "stemtag", "survey.ID", "sp", "measure")]
trends <- trends[which(trends$survey.ID==c('2018.01', '2018.14')), ]
##determine which trees will need to have dendroband replaced based on measurements. The max a caliper can measure is 153.71 mm.
library(data.table)
growth <- data.table(trends)
growth<-growth[,list(band.growth=diff(measure)),list(tag,sp)]
##range of measurement values over the growing season
range <- c(sort(growth$band.growth, decreasing=TRUE))
range <- range[range >=0]
range
mean(range)
sd(range)
##in 2018's example, mean=11.88 and sd=8.94, so I'm assigning values in measure >= 133 to have a code of RD.
data_install<-data_2018[which(data_2018$survey.ID=='2018.14'), ]
data_install$codes <- as.character(data_install$codes)
data_install$codes <- ifelse(data_install$measure >= 133 & !grepl("RD", data_install$codes), paste(data_install$codes, "RD", sep = ";"), data_install$codes)
data_install$codes <- gsub("^;", "", data_install$codes)
data_install<-data_install[grepl("RD",data_install[["codes"]]), ]
data_install<-data_2018[which(data_2018$survey.ID=='2018.14'), ]
data_install$codes <- as.character(data_install$codes)
data_install$codes <- ifelse(data_install$measure >= 145 & !grepl("RD", data_install$codes), paste(data_install$codes, "RD", sep = ";"), data_install$codes)
data_install$codes <- gsub("^;", "", data_install$codes)
data_install<-data_install[grepl("RD",data_install[["codes"]]), ]
##rest of code is for making the field_form
data_install<-data_install[ ,c("tag", "stemtag", "sp", "quadrat", "lx", "ly", "measure", "codes", "location", "dendDiam", "dendroID", "type", "dendHt")]
data_install$measure = NA
data_install$codes = NA
data_install$dendDiam = NA
data_install$dendHt = NA
data_install$type = NA
data_install$dendroID = NA
data_install$install.date = NA
data_install$dbhnew = NA
library(dplyr)
data_install<-data_install %>% rename("codes&notes" = codes, "stem" = stemtag)
?rename
data_install<-data_install %>% rename("codes&notes" = codes, "stem" = stemtag)
library(dplyr)
data_install<-data_install %>% rename("codes&notes" = codes, "stem" = stemtag)
data_install$codes&notes <- data_install$codes
data_install$codes <- data_install$codes&notes
data_install <- rename(data_install,codes="codes&notes", stemtag="stem")
data_install %>% rename(codes&notes=codes, stem=stemtag)
setnames(data_install, old=c("codes", "stemtag"), new=c("codes&notes", "stem"))
View(data_install)
data_install[is.na(data_install)] <- " "
data_install<-data_install[,c(1:6,14,15,11,12,10,13,7:9)]
data_install$location<-gsub("South", "S", data_install$location)
data_install$location<-gsub("North", "N", data_install$location)
matrix <- function(data_install, table_title) {
rbind(c(table_title, rep('', ncol(data_install)-1)), # title
names(data_install), # column names
unname(sapply(data_install, as.character))) # data
}
temp <- matrix(data_install, table_title=('Dendroband Replacement        Date:                       Surveyors:'))
library(xlsx)
write.xlsx(temp, "field_form_bandreplace.xlsx", row.names = FALSE, col.names=FALSE)
data_2018 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/2018/scbi.dendroAll_2018.csv")
trends <- data_2018[,c("tag", "stemtag", "survey.ID", "sp", "measure")]
trends <- trends[which(trends$survey.ID==c('2018.01', '2018.14')), ]
##determine which trees will need to have dendroband replaced based on measurements. The max a caliper can measure is 153.71 mm.
library(data.table)
growth <- data.table(trends)
growth<-growth[,list(band.growth=diff(measure)),list(tag,sp)]
##range of measurement values over the growing season
range <- c(sort(growth$band.growth, decreasing=TRUE))
range <- range[range >=0]
range
mean(range)
sd(range)
##in 2018's example, mean=11.88 and sd=8.94, so I'm assigning values in measure >= 133 to have a code of RD.
data_install<-data_2018[which(data_2018$survey.ID=='2018.14'), ]
data_install$codes <- as.character(data_install$codes)
data_install$codes <- ifelse(data_install$measure >= 133 & !grepl("RD", data_install$codes), paste(data_install$codes, "RD", sep = ";"), data_install$codes)
data_install$codes <- gsub("^;", "", data_install$codes)
##subset by RD codes (having subset by 2018.14 already above)
data_install<-data_install[grepl("RD",data_install[["codes"]]), ]
##rest of code is for making the field_form
data_install<-data_install[ ,c("tag", "stemtag", "sp", "quadrat", "lx", "ly", "measure", "codes", "location", "dendDiam", "dendroID", "type", "dendHt")]
data_install$measure = NA
data_install$codes = NA
data_install$dendDiam = NA
data_install$dendHt = NA
data_install$type = NA
data_install$dendroID = NA
data_install$install.date = NA
data_install$dbhnew = NA
library(dplyr)
setnames(data_install, old=c("codes", "stemtag"), new=c("codes&notes", "stem"))
data_install[is.na(data_install)] <- " "
data_install<-data_install[,c(1:6,14,15,11,12,10,13,7:9)]
data_install$location<-gsub("South", "S", data_install$location)
data_install$location<-gsub("North", "N", data_install$location)
matrix <- function(data_install, table_title) {
rbind(c(table_title, rep('', ncol(data_install)-1)), # title
names(data_install), # column names
unname(sapply(data_install, as.character))) # data
}
temp <- matrix(data_install, table_title=('Dendroband Replacement        Date:                       Surveyors:'))
library(xlsx)
write.xlsx(temp, "field_form_bandreplace.xlsx", row.names = FALSE, col.names=FALSE)
measurement_notes_2010 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/SCBI-ForestGEO-Data_private/tree_cores/measurement_files/measurement_notes_2010.csv")
View(measurement_notes_2010)
measurement_notes_2010_chronology <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/SCBI-ForestGEO-Data_private/tree_cores/chronologies/measurement_notes_2010_chronology.csv")
View(measurement_notes_2010_chronology)
meas10 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/SCBI-ForestGEO-Data_private/tree_cores/measurement_files/measurement_notes_2010.csv")
chron10 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/SCBI-ForestGEO-Data_private/tree_cores/chronologies/measurement_notes_2010_chronology.csv")
library(compare)
compare(meas10, chron10)
all(meas10==chron10)
all.equal(chron10,meas10)
meas16 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/SCBI-ForestGEO-Data_private/tree_cores/measurement_files/measurement_notes_2016_17.csv")
chron16 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/SCBI-ForestGEO-Data_private/tree_cores/chronologies/measurement_notes_2016_17_chronology.csv")
all.equal(chron10,meas10)
all.equal(chron16,meas16)
meas16 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/SCBI-ForestGEO-Data_private/tree_cores/measurement_files/measurement_notes_2016_17.csv")
chron16 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/SCBI-ForestGEO-Data_private/tree_cores/chronologies/measurement_notes_2016_17_chronology.csv")
all.equal(chron16,meas16)
meas16 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/SCBI-ForestGEO-Data_private/tree_cores/measurement_files/measurement_notes_2016_17.csv")
chron16 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/SCBI-ForestGEO-Data_private/tree_cores/chronologies/measurement_notes_2016_17_chronology.csv")
all.equal(chron16,meas16)
meas16 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/SCBI-ForestGEO-Data_private/tree_cores/measurement_files/measurement_notes_2016_17.csv")
chron16 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/SCBI-ForestGEO-Data_private/tree_cores/chronologies/measurement_notes_2016_17_chronology.csv")
meas16 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/SCBI-ForestGEO-Data_private/tree_cores/measurement_files/measurement_notes_2016_17.csv")
chron16 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/SCBI-ForestGEO-Data_private/tree_cores/chronologies/measurement_notes_2016_17_chronology.csv")
all.equal(chron16,meas16)
meas10 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/SCBI-ForestGEO-Data_private/tree_cores/measurement_files/measurement_notes_2010.csv")
View(meas10)
chron10 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/SCBI-ForestGEO-Data_private/tree_cores/chronologies/measurement_notes_2010_chronology.csv")
View(chron10)
all.equal(chron16,meas16)
scbi.stem2 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/SCBI-ForestGEO-Data/tree_main_census/data/census-csv-files/scbi.stem2.csv")
View(scbi.stem2)
sigeo <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/SCBI-ForestGEO-Data/tree_main_census/data/census-csv-files/scbi.stem2.csv")
View(scbi.stem2)
rm(scbi.stem2)
#plot grid coordinates to see if they make sense
plot(sigeo$gx, sigeo$gy)
## divide 4-digit quadrat number by 100 w/o remainder and w/ remainder to get quadrat x and y columns and row separetely
sigeo$quadrat_x <- as.numeric(as.character(sigeo$quadrat)) %/% 100
sigeo$quadrat_y <- as.numeric(as.character(sigeo$quadrat)) %% 100
View(sigeo)
summary(sigeo$grid_y)
names(sigeo)
## get grid coordinates by multiplying each quadrat coordinate by 20 and adding the corresponding within-quadrat coordinate (lx and ly)
sigeo$grid_x <- (sigeo$quadrat_x - 1)
sigeo$grid_y <- (sigeo$quadrat_y - 1)
View(sigeo)
#Instal this package if you don't have it, get libraries
#install.packages("rgdal")
library(rgdal)
library(sp)
## NAD83 coordinates of the SW and NW corners of the SIGEO plot
NAD83.SW <- c(747385.521, 4308506.438)
NAD83.NW <- c(747370.676, 4309146.156)
## Angle (in radians) at which the plot's western boundary is offset from true NAD83 line of latitude
Offset <- atan2(NAD83.NW[1] - NAD83.SW[1], NAD83.NW[2] - NAD83.SW[2])
## Function that transforms grid coordinates into NAD83 coordinates
grid2nad83 <- function(x, y) {
NAD83.X <- NAD83.SW[1] + (x*cos(Offset) + y*sin(Offset))
NAD83.Y <- NAD83.SW[2] + (-x*sin(Offset) + y*cos(Offset))
nad83 <- list(NAD83.X, NAD83.Y)
names(nad83) <- c("NAD83_X", "NAD83_Y")
nad83
}
## add NAD83 coordinate columns to SIGEO data table
sigeo<-data.frame(sigeo, grid2nad83(sigeo$gx, sigeo$gy))
# Add lat lon to the file, first run these 2 lines
utmcoor<-SpatialPoints(cbind(sigeo$NAD83_X, sigeo$NAD83_Y), proj4string=CRS("+proj=utm +zone=17S"))
longlatcoor<-spTransform(utmcoor,CRS("+proj=longlat"))
#add the results ('latlongcoor' output) as two new columns in original dataframe
sigeo$lat<- coordinates(longlatcoor)[,2]
sigeo$lon <- coordinates(longlatcoor)[,1]
plot(sigeo$lon, sigeo$lat)
View(sigeo)
## get grid coordinates by multiplying each quadrat coordinate by 20 and adding the corresponding within-quadrat coordinate (lx and ly)
sigeo$grid_x <- 20*(sigeo$quadrat_x - 1)
sigeo$grid_y <- 20*(sigeo$quadrat_y - 1)
View(sigeo)
sigeo$grid_y <- 20*(sigeo$quadrat_y - 1) + sigeo$ly
setwd("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data")
install <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/installation_data.csv")
install_df <- install[rep(row.names(install), 18), 1:ncol(install)]
install_df <- install_df[order(install_df$tag), ]
dendro2010 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2010.csv")
dendro2011 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2011.csv")
dendro2011 <- dendro2011[dendro2011$new.band==1, ]
install <- rbind(dendro2010, dendro2011)
rm(install_df)
dendro2012 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2012.csv")
dendro2013 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2013.csv")
dendro2014 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2014.csv")
dendro2015 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2015.csv")
dendro2016 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2016.csv")
dendro2017 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2017.csv")
dendro2018 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2018.csv")
dendro2011 <- dendro2011[dendro2011$new.band==1, ]
dendro2012 <- dendro2012[dendro2012$new.band==1, ]
dendro2013 <- dendro2013[dendro2013$new.band==1, ]
dendro2014 <- dendro2014[dendro2014$new.band==1, ]
dendro2015 <- dendro2015[dendro2015$new.band==1, ]
dendro2016 <- dendro2016[dendro2016$new.band==1, ]
dendro2017 <- dendro2017[dendro2017$new.band==1, ]
dendro2018 <- dendro2018[dendro2018$new.band==1, ]
install <- rbind(dendro2010, dendro2011, dendro2012, dendro2013, dendro2014, dendro2015, dendro2016, dendro2017, dendro2018)
View(dendro2018)
setdiff(colnames(dendro2018), colnames(dendro2017))
dendro2018 <- dendro2018[-"location", ]
dendro2018 <- dendro2018[-c("location"), ]
dendro2018 <- dendro2018[, -c("location")]
dendro2018 <- dendro2018[, -"location"]
dendro2018 <- dendro2018[ , -"location"]
dendro2018 <- dendro2018[ , -17]
install <- rbind(dendro2010, dendro2011, dendro2012, dendro2013, dendro2014, dendro2015, dendro2016, dendro2017, dendro2018)
install <- install[ ,colnames(install) %in% c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "intraannual", "survey.ID", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]
install <- install[order(install$tag, install$stemtag), ]
View(install)
length(unique(install$stemID))
View(dendro2011)
dendro_trees <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/dendro_trees.csv")
View(dendro_trees)
setdiff(dendro_trees$tag, install$tag)
setdiff(install$tag, dendro_trees$tag)
setdiff(dendro_trees$stemID, install$stemID)
write.csv(install, "install.csv", row.names=FALSE)
dendro2010 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2010.csv")
install <- rbind(dendro2010, dendro2011, dendro2012, dendro2013, dendro2014, dendro2015, dendro2016, dendro2017, dendro2018)
install <- install[ ,colnames(install) %in% c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "intraannual", "survey.ID", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]
install <- install[order(install$tag, install$stemtag), ]
setdiff(dendro_trees$stemID, install$stemID)
dendro2010 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2010.csv")
dendro2011 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2011.csv")
dendro2012 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2012.csv")
dendro2013 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2013.csv")
dendro2014 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2014.csv")
dendro2015 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2015.csv")
dendro2016 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2016.csv")
dendro2017 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2017.csv")
dendro2018 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2018.csv")
dendro2011 <- dendro2011[dendro2011$new.band==1, ]
dendro2012 <- dendro2012[dendro2012$new.band==1, ]
dendro2013 <- dendro2013[dendro2013$new.band==1, ]
dendro2014 <- dendro2014[dendro2014$new.band==1, ]
dendro2015 <- dendro2015[dendro2015$new.band==1, ]
dendro2016 <- dendro2016[dendro2016$new.band==1, ]
dendro2017 <- dendro2017[dendro2017$new.band==1, ]
dendro2018 <- dendro2018[dendro2018$new.band==1, ]
dendro2018 <- dendro2018[ , -17]
install <- rbind(dendro2010, dendro2011, dendro2012, dendro2013, dendro2014, dendro2015, dendro2016, dendro2017, dendro2018)
install <- install[ ,colnames(install) %in% c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "intraannual", "survey.ID", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]
install <- install[order(install$tag, install$stemtag), ]
length(unique(install$stemID))
setdiff(dendro_trees$stemID, install$stemID)
dendro2010 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2010.csv")
dendro2011 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2011.csv")
dendro2012 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2012.csv")
dendro2013 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2013.csv")
dendro2014 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2014.csv")
dendro2015 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2015.csv")
dendro2016 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2016.csv")
dendro2017 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2017.csv")
dendro2018 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2018.csv")
dendro2011 <- dendro2011[dendro2011$new.band==1, ]
dendro2012 <- dendro2012[dendro2012$new.band==1, ]
dendro2013 <- dendro2013[dendro2013$new.band==1, ]
dendro2014 <- dendro2014[dendro2014$new.band==1, ]
dendro2015 <- dendro2015[dendro2015$new.band==1, ]
dendro2016 <- dendro2016[dendro2016$new.band==1, ]
dendro2017 <- dendro2017[dendro2017$new.band==1, ]
dendro2018 <- dendro2018[dendro2018$new.band==1, ]
dendro2018 <- dendro2018[ , -17]
install <- rbind(dendro2010, dendro2011, dendro2012, dendro2013, dendro2014, dendro2015, dendro2016, dendro2017, dendro2018)
install <- install[ ,colnames(install) %in% c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "intraannual", "survey.ID", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]
install <- install[order(install$tag, install$stemtag), ]
length(unique(install$stemID))
setdiff(dendro_trees$stemID, install$stemID)
read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/dendro_trees.csv")
dendro_trees <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/dendro_trees.csv")
length(unique(dendro_trees$stemID))
length(unique(install$stemID))
length(unique(dendro_trees$stemID))
duplicated(dendro_trees$stemID)
View(dendro_trees)
setdiff(dendro_trees$stemID, install$stemID)
write.csv(install, "install.csv", row.names=FALSE)
dendro2010 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2010.csv")
dendro2011 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2011.csv")
dendro2012 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2012.csv")
dendro2013 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2013.csv")
dendro2014 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2014.csv")
dendro2015 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2015.csv")
dendro2016 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2016.csv")
dendro2017 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2017.csv")
dendro2018 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2018.csv")
dendro2011 <- dendro2011[dendro2011$new.band==1, ]
dendro2012 <- dendro2012[dendro2012$new.band==1, ]
dendro2013 <- dendro2013[dendro2013$new.band==1, ]
dendro2014 <- dendro2014[dendro2014$new.band==1, ]
dendro2015 <- dendro2015[dendro2015$new.band==1, ]
dendro2016 <- dendro2016[dendro2016$new.band==1, ]
dendro2017 <- dendro2017[dendro2017$new.band==1, ]
dendro2018 <- dendro2018[dendro2018$new.band==1, ]
dendro2018 <- dendro2018[ , -17]
install <- rbind(dendro2010, dendro2011, dendro2012, dendro2013, dendro2014, dendro2015, dendro2016, dendro2017, dendro2018)
install <- install[ ,colnames(install) %in% c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "intraannual", "survey.ID", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]
install <- install[order(install$tag, install$stemtag), ]
dendro_trees <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/dendro_trees.csv")
length(unique(install$stemID))
length(unique(dendro_trees$stemID))
setdiff(dendro_trees$stemID, install$stemID)
write.csv(install, "install.csv", row.names=FALSE)
