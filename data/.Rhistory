View(install_df)
install_df <- install_df[order(install_df$tag, install_df$year), ]
View(install_df)
dendro2011 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2011.csv")
View(install_df)
install_df$season <- ""
setwd("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data")
install <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/installation_data.csv")
install_df <- install[rep(row.names(install), 18), 1:ncol(install)]
install_df <- install_df[order(install_df$tag), ]
install_df$season <- ""
install_df$status <- ""
install_df <- install_df[, c(1:9, 21, 22, 10:20)]
install_df$season <- c("fall", "spring")
setwd("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data")
install <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/installation_data.csv")
install_df <- install[rep(row.names(install), 18), 1:ncol(install)]
install_df <- install_df[order(install_df$tag), ]
install_df$season <- ""
install_df$status <- ""
install_df <- install_df[, c(1:9, 21, 22, 10:20)]
install_df$year <- 2010:2018
install_df <- install_df[order(install_df$tag, install_df$year), ]
install_df$season <- c("fall", "spring")
install_df$season <- c("spring", "fall")
install_df$dendHt <- ifelse(install_df$year== 2011 & install_df$season=="spring" & min(dendro2011$survey.ID), dendro2011$dendHt[match(install_df$stemID, dendro2011$stemID)],
)
install_df$dendHt <- ifelse(install_df$year== 2011 &
install_df$season=="spring" &
min(dendro2011$survey.ID),
dendro2011$dendHt[match(install_df$stemID, dendro2011$stemID)],
ifelse(install_df$year==2011 & install_df$season=="fall" & !min(dendro2011$survey.ID), dendro2011$dendHt[match(install_df$stemID, dendro2011$stemID)], install_df$dendHt))
install_df$dendHt <- ifelse(install_df$year== 2011 &
install_df$season=="spring" &
min(dendro2011$survey.ID),
dendro2011$dendHt[match(install_df$stemID, dendro2011$stemID)], install_df$dendHt)
install_df$dendHt <- ifelse(install_df$year==2011 &
install_df$season=="fall" &
!min(dendro2011$survey.ID),
dendro2011$dendHt[match(install_df$stemID, dendro2011$stemID)], install_df$dendHt))
install_df$dendHt <- ifelse(install_df$year==2011 &
install_df$season=="fall" &
!min(dendro2011$survey.ID),
dendro2011$dendHt[match(install_df$stemID, dendro2011$stemID)], install_df$dendHt)
View(install_df)
dendro2011$dendHt
dendro2011 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2011.csv")
install_df$dendHt <- ifelse(install_df$year== 2011 &
install_df$season=="spring" &
min(dendro2011$survey.ID),
dendro2011$dendHt[match(install_df$stemID, dendro2011$stemID)], install_df$dendHt)
install_df$dendHt <- ifelse(install_df$year==2011 &
install_df$season=="fall" &
!min(dendro2011$survey.ID),
dendro2011$dendHt[match(install_df$stemID, dendro2011$stemID)], install_df$dendHt)
View(install_df)
setwd("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data")
install <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/installation_data.csv")
install_df <- install[rep(row.names(install), 18), 1:ncol(install)]
install_df <- install_df[order(install_df$tag), ]
#install_df$season <- ""
install_df$status <- ""
install_df <- install_df[, c(1:9, 21, 10:20)]
install_df$year <- 2010:2018
View(install_df)
setwd("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data")
install <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/installation_data.csv")
install_df <- install[rep(row.names(install), 18), 1:ncol(install)]
install_df <- install_df[order(install_df$tag), ]
install_df$season <- ""
install_df$status <- ""
install_df <- install_df[, c(1:9, 21, 10:20)]
install_df$year <- 2010:2018
install_df <- install_df[order(install_df$tag, install_df$year), ]
install_df$season <- c("spring", "fall")
View(install_df)
install_df$dendHt <- ifelse(install_df$year== 2011 &
install_df$season=="spring" &
min(dendro2011$survey.ID),
dendro2011$dendHt[match(install_df$stemID, dendro2011$stemID)], install_df$dendHt)
install_df$dendHt <- ifelse(install_df$year==2011 &
install_df$season=="fall",
dendro2011$dendHt[match(install_df$stemID, dendro2011$stemID)], install_df$dendHt)
install_df <- install[rep(row.names(install), 18), 1:ncol(install)]
install_df <- install_df[order(install_df$tag), ]
install_df$season <- ""
install_df$status <- ""
install_df <- install_df[, c(1:9, 21, 10:20)]
install_df$year <- 2010:2018
install_df <- install_df[order(install_df$tag, install_df$year), ]
install_df$season <- c("spring", "fall")
install_df$dendHt <- ifelse(install_df$year== 2011 &
install_df$season=="spring" &
min(dendro2011$survey.ID),
dendro2011$dendHt[match(install_df$stemID, dendro2011$stemID)], install_df$dendHt)
install_df$dendHt <- ifelse(install_df$year==2011 &
install_df$season=="fall" &
dendro2011$survey.ID >= 2011.01,
dendro2011$dendHt[match(install_df$stemID, dendro2011$stemID)], install_df$dendHt)
install_df <- install[rep(row.names(install), 18), 1:ncol(install)]
install_df <- install_df[order(install_df$tag), ]
install_df$season <- ""
install_df$status <- ""
install_df <- install_df[, c(1:9, 21, 10:20)]
install_df$year <- 2010:2018
install_df <- install_df[order(install_df$tag, install_df$year), ]
install_df$season <- c("spring", "fall")
install_df$dendHt <- ifelse(install_df$year== 2011 &
install_df$season=="spring" &
min(dendro2011$survey.ID),
dendro2011$dendHt[match(install_df$stemID, dendro2011$stemID)],
ifelse(install_df$year==2011 &
install_df$season=="fall" &
max(dendro2011$survey.ID),                                                             dendro2011$dendHt[match(install_df$stemID, dendro2011$stemID)], install_df$dendHt))
dendro2011 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2018.csv")
dendro2018 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2018.csv")
rm(dendro2011)
install_df <- install[rep(row.names(install), 18), 1:ncol(install)]
install_df <- install_df[order(install_df$tag), ]
install_df$season <- ""
install_df$status <- ""
install_df <- install_df[, c(1:9, 21, 10:20)]
install_df$year <- 2010:2018
install_df <- install_df[order(install_df$tag, install_df$year), ]
install_df$season <- c("spring", "fall")
##
install_df$new.band <- ifelse(install_df$year== 2018 &
install_df$season=="spring" &
min(dendro2018$survey.ID),
dendro2018$new.band[match(install_df$stemID, dendro2018$stemID)],
ifelse(install_df$year==2018 &
install_df$season=="fall" &
!min(dendro2018$survey.ID),
dendro2018$new.band[match(install_df$stemID, dendro2018$stemID)], install_df$new.band))
##
install_df$new.band <- ifelse(install_df$year== 2018 &
install_df$season=="spring" &
min(dendro2018$survey.ID),
dendro2018$new.band[match(install_df$stemID, dendro2018$stemID)],
ifelse(install_df$year==2018 &
install_df$season=="fall" &
dendro2018$survey.ID[-min(dendro2018$survey.ID)],
dendro2018$new.band[match(install_df$stemID, dendro2018$stemID)], install_df$new.band))
##
install_df$new.band <- ifelse(install_df$year== 2018 &
install_df$season=="spring" &
min(dendro2018$survey.ID),
dendro2018$new.band[match(install_df$stemID, dendro2018$stemID)],
ifelse(install_df$year==2018 &
install_df$season=="fall" &
dendro2018$survey.ID[-min(dendro2018$survey.ID)],
max(dendro2018$new.band)[match(install_df$stemID, dendro2018$stemID)], install_df$new.band))
##
test <- dendro2018[dendro2018$tag==12025, ]
View(test)
ing <- install_df[install_df$tag==12025, ]
View(ing)
View(test)
ing$dendroID <- ifelse(ing$year== 2018 &
ing$season=="spring" &
min(test$survey.ID),
test$dendroID[match(ing$stemID, test$stemID)],
ifelse(ing$year==2018 &
ing$season=="fall" &
max(test$dendroID),
test$dendroID[match(ing$stemID, test$stemID)], ing$dendroID))
ing$dendroID <- ifelse(ing$year== 2018 &
ing$season=="spring" &
min(test$survey.ID),
test$dendroID[match(ing$stemID, test$stemID)],
ifelse(ing$year==2018 &
ing$season=="fall" &
max(test$survey.ID),
test$dendroID[match(ing$stemID, test$stemID)], ing$dendroID))
max(test$survey.ID)
ing$dendroID <- ifelse(ing$year== 2018 &
ing$season=="spring" &
min(test$survey.ID),
test$dendroID[match(ing$stemID, test$stemID)],
ifelse(ing$year==2018 &
ing$season=="fall" &
max(test$survey.ID),
test$dendroID[match(ing$stemID, test$stemID)], ing$dendroID))
test <- dendro2018[dendro2018$tag==12025, ]
ing <- install_df[install_df$tag==12025, ]
ing$dendroID <- ifelse(ing$year== 2018 &
ing$season=="spring" &
min(test$survey.ID),
test$dendroID[match(ing$stemID, test$stemID)],
ifelse(ing$year==2018 &
ing$season=="fall" &
max(test$survey.ID),
test$dendroID[match(ing$stemID, test$stemID)], ing$dendroID))
ifelse(ing$year==2018 &
ing$season=="fall" &
max(test$survey.ID),
test$dendroID[match(ing$stemID, test$stemID)], ing$dendroID)
setwd("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data")
install <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/installation_data.csv")
install_df <- install[rep(row.names(install), 18), 1:ncol(install)]
install_df <- install_df[order(install_df$tag), ]
install_df$season <- ""
install_df$status <- ""
install_df <- install_df[, c(1:9, 21, 10:20)]
install_df$year <- 2010:2018
install_df <- install_df[order(install_df$tag, install_df$year), ]
install_df$season <- c("spring", "fall")
test <- dendro2018[dendro2018$tag==12025, ]
ing <- install_df[install_df$tag==12025, ]
dendro2018 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2018.csv")
test <- dendro2018[dendro2018$tag==12025, ]
ing <- install_df[install_df$tag==12025, ]
ifelse(ing$year==2018 &
ing$season=="fall" &
max(test$survey.ID),
test$dendroID[match(ing$stemID, test$stemID)], ing$dendroID)
ifelse(ing$year==2018 &
ing$season=="fall" &
test$survey.ID==2018.14,
test$dendroID[match(ing$stemID, test$stemID)], ing$dendroID)
if (ing$year==2018 &
ing$season=="fall" &
max(test$survey.ID)){
ing$dendroID <- test$dendroID[match(ing$stemID, test$stemID)]
}
if (ing$year==2018){
ing$dendroID <- ifelse(ing$season=="fall" & max(test$survey.ID),
test$dendroID[match(ing$stemID, test$stemID)], ing$dendroID)
}
if (ing$year %in% "2018"){
ing$dendroID <- ifelse(ing$season=="fall" & max(test$survey.ID),
test$dendroID[match(ing$stemID, test$stemID)], ing$dendroID)
}
if (ing$year == "2018"){
ing$dendroID <- ifelse(ing$season=="fall" & max(test$survey.ID),
test$dendroID[match(ing$stemID, test$stemID)], ing$dendroID)
}
if (ing$year == 2018){
ing$dendroID <- ifelse(ing$season=="fall" & max(test$survey.ID),
test$dendroID[match(ing$stemID, test$stemID)], ing$dendroID)
}
install_df <- install[rep(row.names(install), 18), 1:ncol(install)]
install_df <- install_df[order(install_df$tag), ]
install_df$season <- ""
install_df$status <- ""
install_df <- install_df[, c(1:9, 21, 10:20)]
install_df$year <- 2010:2018
install_df <- install_df[order(install_df$tag, install_df$year), ]
install_df$season <- c("spring", "fall")
setwd("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data")
install <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/installation_data.csv")
install_df <- install[rep(row.names(install), 18), 1:ncol(install)]
install_df <- install_df[order(install_df$tag), ]
install_df$season <- ""
install_df$status <- ""
install_df <- install_df[, c(1:9, 21, 10:20)]
install_df$year <- 2010:2018
install_df <- install_df[order(install_df$tag, install_df$year), ]
install_df$season <- c("spring", "fall")
dendro2018 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2018.csv")
test <- dendro2018[dendro2018$tag==12025, ]
ing <- install_df[install_df$tag==12025, ]
if (ing$year == 2018){
ing$dendroID <- ifelse(ing$season=="fall" & max(test$survey.ID),
test$dendroID[match(ing$stemID, test$stemID)], ing$dendroID)
}
filename <- c("dendro2010", "dendro2011", "dendro2012", "dendro2013", "dendro2014", "dendro2015", "dendro2015", "dendro2016", "dendro2017", "dendro2018")
View(install_df)
setwd("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data")
dirs <- dir("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data", pattern="scbi.dendroAll_[[:digit:]]+[0-8].csv")
years <- c(2010:2018)
filename <- c("dendro2010", "dendro2011", "dendro2012", "dendro2013", "dendro2014", "dendro2015", "dendro2015", "dendro2016", "dendro2017", "dendro2018")
all_files <- list()
for (i in seq(along=dirs)){
for(j in seq(along=years)){
for (k in seq(along=filename)){
if(i==j==k){
fname <- filename[[k]]
date <- years[[j]]
fname <- read.csv(dirs[[i]])
#1 subset to only have columns i want
fname <- fname[, c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "itnraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]
#2 subset out by where new.band = 1
fname <- fname[fname$new.band==1, ]
#3 make column that contains year of file
fname$year <- date
#4 append all df to each other
}
all_files[[i]] <- fname
}
for (i in seq(along=dirs)){
for(j in seq(along=years)){
if(i==j){
date <- years[[j]]
fname <- read.csv(dirs[[i]])
#1 subset to only have columns i want
fname <- fname[, c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "itnraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]
#2 subset out by where new.band = 1
fname <- fname[fname$new.band==1, ]
#3 make column that contains year of file
fname$year <- date
#4 append all df to each other
}
all_files[[i]] <- fname
}
for (i in seq(along=dirs)){
for(j in seq(along=years)){
if(i==j){
date <- years[[j]]
fname <- read.csv(dirs[[i]])
#1 subset to only have columns i want
fname <- fname[c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "itnraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID"), ]
#2 subset out by where new.band = 1
fname <- fname[fname$new.band==1, ]
#3 make column that contains year of file
fname$year <- date
#4 append all df to each other
}
all_files[[i]] <- fname
}
View(all_files)
filenam,e
filename
setwd("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data")
dirs <- dir("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data", pattern="scbi.dendroAll_[[:digit:]]+[0-8].csv")
years <- c(2010:2018)
filename <- c("dendro2010", "dendro2011", "dendro2012", "dendro2013", "dendro2014", "dendro2015", "dendro2016", "dendro2017", "dendro2018")
all_files <- list()
for (i in seq(along=dirs)){
for(j in seq(along=years)){
if(i==j){
date <- years[[j]]
fname <- read.csv(dirs[[i]])
#1 subset to only have columns i want
fname <- fname[c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "itnraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID"), ]
#2 subset out by where new.band = 1
fname <- fname[fname$new.band==1, ]
#3 make column that contains year of file
fname$year <- date
#4 append all df to each other
}
all_files[[i]] <- fname
}
View(all_files)
View(fname)
for (i in seq(along=dirs)){
for(j in seq(along=years)){
if(i==j){
date <- years[[j]]
fname <- read.csv(dirs[[i]])
#1 subset to only have columns i want
fname <- fname[, c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "itnraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]
#2 subset out by where new.band = 1
fname <- fname[fname$new.band==1, ]
#3 make column that contains year of file
fname$year <- date
#4 append all df to each other
}
all_files[[i]] <- fname
}
for (i in seq(along=dirs)){
for(j in seq(along=years)){
if(i==j){
date <- years[[j]]
fname <- read.csv(dirs[[i]])
#1 subset to only have columns i want
fname <- fname[c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "itnraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]
#2 subset out by where new.band = 1
fname <- fname[fname$new.band==1, ]
#3 make column that contains year of file
fname$year <- date
#4 append all df to each other
}
all_files[[i]] <- fname
}
#1 subset to only have columns i want
fname <- fname[c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "itnraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]
#1 subset to only have columns i want
fname <- fname[ ,c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "itnraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]
#1 subset to only have columns i want
fname <- fname[, c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "itnraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]
#1 subset to only have columns i want
fname <- fname[c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "itnraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID"),]
for (i in seq(along=dirs)){
for(j in seq(along=years)){
if(i==j){
date <- years[[j]]
fname <- read.csv(dirs[[i]])
#1 subset to only have columns i want
fname <- fname[c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "itnraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID"), ]
#2 subset out by where new.band = 1
fname <- fname[fname$new.band==1, ]
#3 make column that contains year of file
fname$year <- date
#4 append all df to each other
}
all_files[[i]] <- fname
}
setwd("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data")
dirs <- dir("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data", pattern="scbi.dendroAll_[[:digit:]]+[0-8].csv")
years <- c(2010:2018)
filename <- c("dendro2010", "dendro2011", "dendro2012", "dendro2013", "dendro2014", "dendro2015", "dendro2016", "dendro2017", "dendro2018")
all_files <- list()
for (i in seq(along=dirs)){
for(j in seq(along=years)){
if(i==j){
date <- years[[j]]
fname <- read.csv(dirs[[i]])
#1 subset to only have columns i want
fname <- fname[c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "itnraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID"), ]
#2 subset out by where new.band = 1
fname <- fname[fname$new.band==1, ]
#3 make column that contains year of file
fname$year <- date
#4 append all df to each other
}
all_files[[i]] <- fname
}
View(all_files)
View(fname)
fname <- read.csv(dirs[[i]])
#1 subset to only have columns i want
fname <- fname[c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "itnraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID"), ]
fname <- read.csv(dirs[[i]])
#1 subset to only have columns i want
fname <- fname[colnames(fname) %in% c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "itnraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID"), ]
fname <- read.csv(dirs[[i]])
#1 subset to only have columns i want
fname <- fname[ ,colnames(fname) %in% c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "itnraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]
for (i in seq(along=dirs)){
for(j in seq(along=years)){
if(i==j){
date <- years[[j]]
fname <- read.csv(dirs[[i]])
#1 subset to only have columns i want
fname <- fname[ ,colnames(fname) %in% c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "intraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]
#2 subset out by where new.band = 1
fname <- fname[fname$new.band==1, ]
#3 make column that contains year of file
fname$year <- date
#4 append all df to each other
}
all_files[[i]] <- fname
}
setwd("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data")
dirs <- dir("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data", pattern="scbi.dendroAll_[[:digit:]]+[0-8].csv")
years <- c(2010:2018)
filename <- c("dendro2010", "dendro2011", "dendro2012", "dendro2013", "dendro2014", "dendro2015", "dendro2016", "dendro2017", "dendro2018")
all_files <- list()
for (i in seq(along=dirs)){
for(j in seq(along=years)){
if(i==j){
date <- years[[j]]
fname <- read.csv(dirs[[i]])
#1 subset to only have columns i want
fname <- fname[ ,colnames(fname) %in% c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "intraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]
#2 subset out by where new.band = 1
fname <- fname[fname$new.band==1, ]
#3 make column that contains year of file
fname$year <- date
#4 append all df to each other
}
all_files[[i]] <- fname
}
View(fname)
View(all_files)
dendro2010 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2010.csv")
View(dendro2010)
install <- dendro2010[ ,colnames(dendro2010) %in% c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "intraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]]
install <- dendro2010[ ,colnames(dendro2010) %in% c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "intraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]
dendro2011 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2011.csv")
dendro2011 <- dendro2011[dendro2011$new.band==1, ]
dendro2010 <- dendro2010[ ,colnames(dendro2010) %in% c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "intraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]
?rbind
install <- rbind(dendro2010, dendro2011)
dendro2010 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2010.csv")
dendro2011 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2011.csv")
dendro2011 <- dendro2011[dendro2011$new.band==1, ]
install <- rbind(dendro2010, dendro2011)
install <- install[ ,colnames(install) %in% c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "intraannual", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]
View(install)
install <- install[order(install$tag, install$stemtag), ]
View(install)
dendro2010 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2010.csv")
dendro2011 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2011.csv")
View(dendro2011)
dendro2011 <- dendro2011[dendro2011$new.band==1, ]
install <- rbind(dendro2010, dendro2011)
install <- install[ ,colnames(install) %in% c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "intraannual", "year", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]
install <- install[order(install$tag, install$stemtag), ]
View(install)
install <- install[, 1,2,4:9,3,10:20]
install <- install[, c(1,2,4:9,3,10:20)]
View(install)
View(dendro2011)
dendro2010 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2010.csv")
dendro2011 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/scbi.dendroAll_2011.csv")
dendro2011 <- dendro2011[dendro2011$new.band==1, ]
install <- rbind(dendro2010, dendro2011)
install <- install[ ,colnames(install) %in% c("tag", "stemtag", "sp", "quadrat", "stemID", "treeID", "biannual", "intraannual", "survey.ID", "dendDiam", "dbh", "new.band", "dendroID", "type", "dir", "dendHt", "crown.condition", "crown.illum", "lianas", "measureID")]
install <- install[order(install$tag, install$stemtag), ]
View(install)
install <- install[, c(1,2,4:9,3,10:20)]
View(install)
pupR()
install.packages("pupR")
updateR()
installR()
installr()
install.packages("installr")
installr()
library(installr)
