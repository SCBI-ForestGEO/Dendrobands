map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
section8 <- annotate("text", x= 747610, y= 4309100, label = "8", size=6)
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
section8 <- annotate("text", x= 747605, y= 4309100, label = "8", size=6)
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
section9 <- annotate("text", x= 747730, y= 4309040, label = "9", size=6)
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 + section9 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
section9 <- annotate("text", x= 747725, y= 4309045, label = "9", size=6)
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 + section9 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
pdf("dendroband_biannual_map.pdf", width = 8.5, height=11)
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 + section9 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
dev.off()
library(ggsn)
install.packages("ggsn")
library(ggsn)
?ggsn
map_intra +
rows +
cols +
north(map_intra, symbol=3)
map_intra +
rows +
cols +
ggsn::north(map_intra, symbol=3, scale=.08)+
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
map_intra +
rows +
cols +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
#north and south divide arrows
north <- annotate(geom="text", x=747810, y=4308860, label="N", colour="black", size=4)
south <- annotate(geom="text", x=747810, y=4308805, label="S", colour="black", size=4)
map_intra +
rows +
cols +
north + south +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
#north and south divide arrows
north <- annotate(geom="text", x=747800, y=4308840, label="N", colour="black", size=6)
south <- annotate(geom="text", x=747800, y=4308770, label="S", colour="black", size=6)
map_intra +
rows +
cols +
north + south +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
#north and south divide arrows
north <- annotate(geom="text", x=747795, y=4308800, label="N", colour="black", size=5)
south <- annotate(geom="text", x=747795, y=4308770, label="S", colour="black", size=5)
map_intra +
rows +
cols +
north + south +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
#north and south divide arrows
north <- annotate(geom="text", x=747795, y=4308805, label="N", colour="black", size=5)
south <- annotate(geom="text", x=747795, y=4308775, label="S", colour="black", size=5)
map_intra +
rows +
cols +
north + south +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
#north and south divide arrows
north <- annotate(geom="text", x=747795, y=4308808, label="N", colour="black", size=5)
south <- annotate(geom="text", x=747795, y=4308775, label="S", colour="black", size=5)
map_intra +
rows +
cols +
north + south +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
#north and south divide arrows
north <- annotate(geom="text", x=747795, y=4308810, label="N", colour="black", size=5)
south <- annotate(geom="text", x=747795, y=4308775, label="S", colour="black", size=5)
map_intra +
rows +
cols +
north + south +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
#north and south divide arrows
north <- annotate(geom="text", x=747793, y=4308810, label="N", colour="black", size=5)
south <- annotate(geom="text", x=747795, y=4308775, label="S", colour="black", size=5)
map_intra +
rows +
cols +
north + south +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
?annotate
#north and south divide arrows
north <- annotate(geom="text", x=747793, y=4308810, label=bold("N"), colour="black", size=5)
#north and south divide arrows
north <- annotate(geom="text", x=747793, y=4308810, label="N", colour="black", size=5, fontface=2)
south <- annotate(geom="text", x=747795, y=4308775, label="S", colour="black", size=5, fontface=2)
map_intra +
rows +
cols +
north + south +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
#these are the numbers for the survey areas, following the survey_area shp border areas
section1 <- annotate("text", x= 747730, y= 4308705, label = "1", size=6, fontface=2)
section2 <- annotate("text", x= 747630, y= 4308683, label = "2", size=6, fontface=2)
section3 <- annotate("text", x= 747450, y= 4308717, label = "3", size=6, fontface=2)
section4 <- annotate("text", x= 747445, y= 4309000, label = "4", size=6, fontface=2)
section5 <- annotate("text", x= 747567, y= 4308920, label = "5", size=6, fontface=2)
section6 <- annotate("text", x= 747687, y= 4308923, label = "6", size=6, fontface=2)
section7 <- annotate("text", x= 747520, y= 4309100, label = "7", size=6, fontface=2)
section8 <- annotate("text", x= 747605, y= 4309100, label = "8", size=6, fontface=2)
section9 <- annotate("text", x= 747725, y= 4309045, label = "9", size=6, fontface=2)
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 + section9 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
pdf("dendroband_biannual_map.pdf", width = 8.5, height=11)
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 + section9 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
dev.off()
pdf("dendroband_intraannual_map.pdf", width = 8.5, height=11)
map_intra +
rows +
cols +
north + south +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
dev.off()
#biannual survey map ####
map <- ggplot() +
geom_path(data = scbi_plot_df, aes(x = long, y = lat, group = group))+
geom_path(data=roads_df, aes(x=long, y=lat, group=group),
color="#996600", linetype=2)+
geom_path(data=streams_df, aes(x=long, y=lat, group=group), color="blue")+
geom_path(data=survey_areas_df, aes(x=long, y=lat, group=group), size=1.5)+
geom_point(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y), shape=19)+
geom_text(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y, label=tag),
size=3, hjust=1.25, nudge_y=-1, nudge_x=1, check_overlap=TRUE)+
labs(subtitle="Dendrobands_Biannual_2019")+
coord_sf(crs = "crs = +proj=merc", xlim=c(747350,747800), ylim=c(4308500, 4309125))
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 + section9 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
#biannual survey map ####
map <- ggplot() +
geom_path(data = scbi_plot_df, aes(x = long, y = lat, group = group))+
geom_path(data=roads_df, aes(x=long, y=lat, group=group),
color="#996600", linetype=2)+
geom_path(data=streams_df, aes(x=long, y=lat, group=group), color="blue")+
geom_path(data=survey_areas_df, aes(x=long, y=lat, group=group), size=1.5)+
geom_point(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y), shape=19)+
geom_text(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y, label=tag),
size=3, hjust=1.25, nudge_y=-1, nudge_x=1, check_overlap=TRUE)+
labs(sub="Dendrobands_Biannual_2019")+
coord_sf(crs = "crs = +proj=merc", xlim=c(747350,747800), ylim=c(4308500, 4309125))
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 + section9 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
?labs
#biannual survey map ####
map <- ggplot() +
geom_path(data = scbi_plot_df, aes(x = long, y = lat, group = group))+
geom_path(data=roads_df, aes(x=long, y=lat, group=group),
color="#996600", linetype=2)+
geom_path(data=streams_df, aes(x=long, y=lat, group=group), color="blue")+
geom_path(data=survey_areas_df, aes(x=long, y=lat, group=group), size=1.5)+
geom_point(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y), shape=19)+
geom_text(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y, label=tag),
size=3, hjust=1.25, nudge_y=-1, nudge_x=1, check_overlap=TRUE)+
labs(subtitle="Dendrobands_Biannual_2019")+
coord_sf(crs = "crs = +proj=merc", xlim=c(747350,747800), ylim=c(4308500, 4309125))
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 + section9 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
#biannual survey map ####
map <- ggplot() +
geom_path(data = scbi_plot_df, aes(x = long, y = lat, group = group))+
geom_path(data=roads_df, aes(x=long, y=lat, group=group),
color="#996600", linetype=2)+
geom_path(data=streams_df, aes(x=long, y=lat, group=group), color="blue")+
geom_path(data=survey_areas_df, aes(x=long, y=lat, group=group), size=1.5)+
geom_point(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y), shape=19)+
geom_text(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y, label=tag),
size=3, hjust=1.25, nudge_y=-1, nudge_x=1, check_overlap=TRUE)+
labs(subtitle="Dendrobands_Biannual_2019", vjust=0.1)+
coord_sf(crs = "crs = +proj=merc", xlim=c(747350,747800), ylim=c(4308500, 4309125))
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 + section9 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
#biannual survey map ####
map <- ggplot() +
geom_path(data = scbi_plot_df, aes(x = long, y = lat, group = group))+
geom_path(data=roads_df, aes(x=long, y=lat, group=group),
color="#996600", linetype=2)+
geom_path(data=streams_df, aes(x=long, y=lat, group=group), color="blue")+
geom_path(data=survey_areas_df, aes(x=long, y=lat, group=group), size=1.5)+
geom_point(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y), shape=19)+
geom_text(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y, label=tag),
size=3, hjust=1.25, nudge_y=-1, nudge_x=1, check_overlap=TRUE)+
labs(subtitle="Dendrobands_Biannual_2019", vjust=0.5)+
coord_sf(crs = "crs = +proj=merc", xlim=c(747350,747800), ylim=c(4308500, 4309125))
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 + section9 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
#biannual survey map ####
map <- ggplot() +
geom_path(data = scbi_plot_df, aes(x = long, y = lat, group = group))+
geom_path(data=roads_df, aes(x=long, y=lat, group=group),
color="#996600", linetype=2)+
geom_path(data=streams_df, aes(x=long, y=lat, group=group), color="blue")+
geom_path(data=survey_areas_df, aes(x=long, y=lat, group=group), size=1.5)+
geom_point(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y), shape=19)+
geom_text(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y, label=tag),
size=3, hjust=1.25, nudge_y=-1, nudge_x=1, check_overlap=TRUE)+
labs(title="Dendrobands_Biannual_2019")+
theme(plot.title=element_text(vjust=0.1))+
coord_sf(crs = "crs = +proj=merc", xlim=c(747350,747800), ylim=c(4308500, 4309125))
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 + section9 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
#biannual survey map ####
map <- ggplot() +
geom_path(data = scbi_plot_df, aes(x = long, y = lat, group = group))+
geom_path(data=roads_df, aes(x=long, y=lat, group=group),
color="#996600", linetype=2)+
geom_path(data=streams_df, aes(x=long, y=lat, group=group), color="blue")+
geom_path(data=survey_areas_df, aes(x=long, y=lat, group=group), size=1.5)+
geom_point(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y), shape=19)+
geom_text(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y, label=tag),
size=3, hjust=1.25, nudge_y=-1, nudge_x=1, check_overlap=TRUE)+
labs(title="Dendrobands_Biannual_2019")+
theme(plot.title=element_text(vjust=0.5))+
coord_sf(crs = "crs = +proj=merc", xlim=c(747350,747800), ylim=c(4308500, 4309125))
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 + section9 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
pdf("dendroband_biannual_map.pdf", width = 8.5, height=11)
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 + section9 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
dev.off()
setwd("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/resources/maps")
#we are using dendro_trees for this code as opposed to "scbi.dendroAll_YEAR.csv" because
#1. dendro_trees reflects the data in the all of the YEAR files and
#2. dendro_trees has the necessary mapping information in lx/ly, gx/gy, NAD83X/Y, AND lat/lon in decimal degrees.
##THUS make sure dendro_trees is updated when making new maps
dendro_trees <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/dendro_trees.csv")
#to start off, filter by all the trees that are alive as of the end of last year's fall survey.
bands_2018 <- dendro_trees[is.na(dendro_trees$mortality.year), ]
bands_2018 <- bands_2018[complete.cases(bands_2018[, c("NAD83_X", "NAD83_Y")]),] # remove one tree with missing coordinates
##this should be fixed when 131352 is found with 2018 data!!!!
library(ggplot2)
library(rgdal)
library(broom) #for the tidy function
library(sf) #for mapping
library(ggthemes) #for removing graticules when making pdf
scbi_plot <- readOGR("V:/SIGEO/GIS_data/20m_grid.shp")
deer <- readOGR("V:/SIGEO/GIS_data/deer_exclosure_2011.shp")
roads <- readOGR("V:/SIGEO/GIS_data/SCBI_roads_edits.shp")
streams <- readOGR("V:/SIGEO/GIS_data/SCBI_streams_edits.shp")
survey_areas <- readOGR("V:/SIGEO/GIS_data/dendroband surveys/dendroband (bi)annual/biannual_survey_areas.shp")
NS_divide <- readOGR("V:/SIGEO/GIS_data/dendroband surveys/dendroband intraannual/NS_divide1.shp")
contour_10m <- readOGR("V:/SIGEO/GIS_data/dendroband surveys/dendroband intraannual/contour10m_SIGEO_clipped.shp")
#convert all shp to dataframe so that it can be used by ggplot
scbi_plot_df <- tidy(scbi_plot)
deer_df <- tidy(deer)
roads_df <- tidy(roads)
streams_df <- tidy(streams)
survey_areas_df <- tidy(survey_areas)
NS_divide_df <- tidy(NS_divide)
contour_10m_df <- tidy(contour_10m)
#x and y give the x/yposition on the plot; sprintf says to add 0 for single digits, the x/y=seq(...,length.out) says fit the label within these parameters, fitting the length of the label evenly.
##this code adds the row and column numbers based on coordinates
rows <- annotate("text", x = seq(747350, 747365, length.out = 32), y = seq(4309125, 4308505, length.out = 32), label = sprintf("%02d", 32:1) , size=5.25, color="black")
cols <- annotate("text", x = seq(747390, 747765, length.out = 20), y = seq(4308495, 4308505, length.out = 20), label = sprintf("%02d", 1:20), size=5.4, color="black")
#these are the numbers for the survey areas, following the survey_area shp border areas
section1 <- annotate("text", x= 747730, y= 4308705, label = "1", size=6, fontface=2)
section2 <- annotate("text", x= 747630, y= 4308683, label = "2", size=6, fontface=2)
section3 <- annotate("text", x= 747450, y= 4308717, label = "3", size=6, fontface=2)
section4 <- annotate("text", x= 747445, y= 4309000, label = "4", size=6, fontface=2)
section5 <- annotate("text", x= 747567, y= 4308920, label = "5", size=6, fontface=2)
section6 <- annotate("text", x= 747687, y= 4308923, label = "6", size=6, fontface=2)
section7 <- annotate("text", x= 747520, y= 4309100, label = "7", size=6, fontface=2)
section8 <- annotate("text", x= 747605, y= 4309100, label = "8", size=6, fontface=2)
section9 <- annotate("text", x= 747725, y= 4309045, label = "9", size=6, fontface=2)
#biannual survey map ####
map <- ggplot() +
geom_path(data = scbi_plot_df, aes(x = long, y = lat, group = group))+
geom_path(data=roads_df, aes(x=long, y=lat, group=group),
color="#996600", linetype=2)+
geom_path(data=streams_df, aes(x=long, y=lat, group=group), color="blue")+
geom_path(data=survey_areas_df, aes(x=long, y=lat, group=group), size=1.5)+
geom_point(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y), shape=19)+
geom_text(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y, label=tag),
size=3, hjust=1.25, nudge_y=-1, nudge_x=1, check_overlap=TRUE)+
labs(title="Dendrobands_Biannual_2019")+
theme(plot.title=element_text(vjust=0.5))+
coord_sf(crs = "crs = +proj=merc", xlim=c(747350,747800), ylim=c(4308500, 4309125))
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 + section9 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
#biannual survey map ####
map <- ggplot() +
geom_path(data = scbi_plot_df, aes(x = long, y = lat, group = group))+
geom_path(data=roads_df, aes(x=long, y=lat, group=group),
color="#996600", linetype=2)+
geom_path(data=streams_df, aes(x=long, y=lat, group=group), color="blue")+
geom_path(data=survey_areas_df, aes(x=long, y=lat, group=group), size=1.2)+
geom_point(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y), shape=19)+
geom_text(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y, label=tag),
size=3, hjust=1.25, nudge_y=-1, nudge_x=1, check_overlap=TRUE)+
labs(title="Dendrobands_Biannual_2019")+
theme(plot.title=element_text(vjust=0.1))+
coord_sf(crs = "crs = +proj=merc", xlim=c(747350,747800), ylim=c(4308500, 4309125))
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 + section9 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
#biannual survey map ####
map <- ggplot() +
geom_path(data = scbi_plot_df, aes(x = long, y = lat, group = group))+
geom_path(data=roads_df, aes(x=long, y=lat, group=group),
color="#996600", linetype=2)+
geom_path(data=streams_df, aes(x=long, y=lat, group=group), color="blue")+
geom_path(data=survey_areas_df, aes(x=long, y=lat, group=group), size=1)+
geom_point(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y), shape=19)+
geom_text(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y, label=tag),
size=3, hjust=1.25, nudge_y=-1, nudge_x=1, check_overlap=TRUE)+
labs(title="Dendrobands_Biannual_2019")+
theme(plot.title=element_text(vjust=0.1))+
coord_sf(crs = "crs = +proj=merc", xlim=c(747350,747800), ylim=c(4308500, 4309125))
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 + section9 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
#biannual survey map ####
map <- ggplot() +
geom_path(data = scbi_plot_df, aes(x = long, y = lat, group = group))+
geom_path(data=roads_df, aes(x=long, y=lat, group=group),
color="#996600", linetype=2)+
geom_path(data=streams_df, aes(x=long, y=lat, group=group), color="blue")+
geom_path(data=survey_areas_df, aes(x=long, y=lat, group=group), size=1.1)+
geom_point(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y), shape=19)+
geom_text(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y, label=tag),
size=3, hjust=1.25, nudge_y=-1, nudge_x=1, check_overlap=TRUE)+
labs(title="Dendrobands_Biannual_2019")+
theme(plot.title=element_text(vjust=0.1))+
coord_sf(crs = "crs = +proj=merc", xlim=c(747350,747800), ylim=c(4308500, 4309125))
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 + section9 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
#biannual survey map ####
map <- ggplot() +
geom_path(data = scbi_plot_df, aes(x = long, y = lat, group = group))+
geom_path(data=roads_df, aes(x=long, y=lat, group=group),
color="#996600", linetype=2)+
geom_path(data=streams_df, aes(x=long, y=lat, group=group), color="blue")+
geom_path(data=survey_areas_df, aes(x=long, y=lat, group=group), size=1)+
geom_point(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y), shape=19)+
geom_text(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y, label=tag),
size=3, hjust=1.25, nudge_y=-1, nudge_x=1, check_overlap=TRUE)+
labs(title="Dendrobands_Biannual_2019")+
theme(plot.title=element_text(vjust=0.1))+
coord_sf(crs = "crs = +proj=merc", xlim=c(747350,747800), ylim=c(4308500, 4309125))
pdf("dendroband_biannual_map.pdf", width = 8.5, height=11)
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 + section9 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
dev.off() #when printing, choose "fit to page"
#biannual survey map ####
map <- ggplot() +
geom_path(data = scbi_plot_df, aes(x = long, y = lat, group = group))+
geom_path(data=roads_df, aes(x=long, y=lat, group=group),
color="#996600", linetype=2)+
geom_path(data=streams_df, aes(x=long, y=lat, group=group), color="blue")+
geom_path(data=survey_areas_df, aes(x=long, y=lat, group=group), size=1.1)+
geom_point(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y), shape=19)+
geom_text(data=bands_2018, aes(x=NAD83_X, y=NAD83_Y, label=tag),
size=3, hjust=1.25, nudge_y=-1, nudge_x=1, check_overlap=TRUE)+
labs(title="Dendrobands_Biannual_2019")+
theme(plot.title=element_text(vjust=0.1))+
coord_sf(crs = "crs = +proj=merc", xlim=c(747350,747800), ylim=c(4308500, 4309125))
pdf("dendroband_biannual_map.pdf", width = 8.5, height=11)
map +
rows +
cols +
section1 + section2 + section3 + section4 + section5 + section6 + section7 + section8 + section9 +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
dev.off() #when printing, choose "fit to page"
map_intra <- ggplot() +
geom_path(data = scbi_plot_df, aes(x = long, y = lat, group = group))+
geom_path(data=roads_df, aes(x=long, y=lat, group=group),
color="#996600", linetype=2)+
geom_path(data=streams_df, aes(x=long, y=lat, group=group), color="blue")+
geom_path(data=NS_divide_df, aes(x=long, y=lat, group=group), size=1.1, color="red")+
geom_path(data=contour_10m_df, aes(x=long, y=lat, group=group), linetype=3)+
geom_path(data=deer_df, aes(x=long, y=lat, group=group))+
geom_point(data=intra, aes(x=NAD83_X, y=NAD83_Y), shape=19)+
geom_text(data=intra, aes(x=NAD83_X, y=NAD83_Y, label=tag),
size=3, hjust=1.25, nudge_y=-1, nudge_x=1, check_overlap=TRUE)+
labs(title="Dendrobands_Intraannual_2019")+
coord_sf(crs = "crs = +proj=merc", xlim=c(747350,747800), ylim=c(4308500, 4309125))
map_intra +
rows +
cols +
north + south +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
intra <- subset(bands_2018, intraannual==1)
map_intra <- ggplot() +
geom_path(data = scbi_plot_df, aes(x = long, y = lat, group = group))+
geom_path(data=roads_df, aes(x=long, y=lat, group=group),
color="#996600", linetype=2)+
geom_path(data=streams_df, aes(x=long, y=lat, group=group), color="blue")+
geom_path(data=NS_divide_df, aes(x=long, y=lat, group=group), size=1.1, color="red")+
geom_path(data=contour_10m_df, aes(x=long, y=lat, group=group), linetype=3)+
geom_path(data=deer_df, aes(x=long, y=lat, group=group))+
geom_point(data=intra, aes(x=NAD83_X, y=NAD83_Y), shape=19)+
geom_text(data=intra, aes(x=NAD83_X, y=NAD83_Y, label=tag),
size=3, hjust=1.25, nudge_y=-1, nudge_x=1, check_overlap=TRUE)+
labs(title="Dendrobands_Intraannual_2019")+
coord_sf(crs = "crs = +proj=merc", xlim=c(747350,747800), ylim=c(4308500, 4309125))
#north and south labels
north <- annotate(geom="text", x=747793, y=4308810, label="N", colour="black", size=5, fontface=2)
south <- annotate(geom="text", x=747795, y=4308775, label="S", colour="black", size=5, fontface=2)
pdf("dendroband_intraannual_map.pdf", width = 8.5, height=11)
map_intra +
rows +
cols +
north + south +
theme_map()+
theme(panel.grid.major = element_line(colour = 'transparent'))
dev.off() #when printing, choose "fit to page"
install.packages("knitr")
