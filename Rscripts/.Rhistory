getwd()
data_2018 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/clean_data_files/2018/scbi.dendroAll_2018.csv")
View(data_2018)
data_2018 <- read.csv("C:/Users/mcgregori/Dropbox (Smithsonian)/Github_Ian/Dendrobands/data/clean_data_files/2018/scbi.dendroAll_2018.csv")
View(data_2018)
data_install<-data_2018[which(data_2018$survey.ID=='2018.01'), ]
data_install<-data_install[ ,c(1:2,7:13,21,24,25,27)]
View(data_install)
data_install$measure = NA
data_install$codes = NA
data_install$notes = NA
data_install$dendDiam = NA
data_install$dendHt = NA
data_install$type = NA
data_install$dendroID = NA
data_install$install.date = NA
data_install$surveyor = NA
data_install$dbhnew = NA
View(data_install)
data_install<-data_install[,c(1:6,14,16,11,12,10,13,7:9,15)]
data_install<-sapply(data_install, as.character)
data_install[is.na(data_install)] <- " "
write.csv(data_install, "data_entry_bandreplace.csv", row.names=FALSE)
data_install<-data_2018[which(data_2018$survey.ID=='2018.01'), ]
data_install<-data_install[ ,c(1:2,7:13,15,21,24,25,27)]
data_install$measure = NA
data_install$codes = NA
data_install$notes = NA
data_install$dendDiam = NA
data_install$dendHt = NA
data_install$type = NA
data_install$dendroID = NA
data_install$install.date = NA
data_install$surveyor = NA
data_install$dbhnew = NA
View(data_install)
data_install<-data_install[,c(1:6,15,17,12,13,11,14,7:9,16)]
data_install<-data_2018[which(data_2018$survey.ID=='2018.01'), ]
data_install<-data_install[ ,c(1:2,7:13,15,21,24,25,27)]
data_install$measure = NA
data_install$codes = NA
data_install$notes = NA
data_install$dendDiam = NA
data_install$dendHt = NA
data_install$type = NA
data_install$dendroID = NA
data_install$install.date = NA
data_install$surveyor = NA
data_install$dbhnew = NA
data_install<-data_install[,c(1:6,15,17,12,13,11,14,7:9,16,10)]
data_install<-data_2018[which(data_2018$survey.ID=='2018.01'), ]
data_install<-data_install[ ,c(1:2,7:12,15,21,24,25,27)]
data_install$measure = NA
data_install$codes = NA
data_install$dendDiam = NA
data_install$dendHt = NA
data_install$type = NA
data_install$dendroID = NA
data_install$install.date = NA
data_install$surveyor = NA
data_install$dbhnew = NA
View(data_install)
data_install<-data_install[,c(1:6,14,16,11,12,10,13,7:8,15,9)]
library(dplyr)
data_intra<-data_intra %>% rename("codes&notes" = codes, "stem" = stemtag)
View(data_install)
data_install<-data_2018[which(data_2018$survey.ID=='2018.01'), ]
#when trouble-shooting code, remove: &data_2018$codes=='RD'
#subset by RD codes and one entry per stem
data_install<-data_install[ ,c(1:2,7:12,15,21,24,25,27)]
data_install$measure = NA
data_install$codes = NA
data_install$dendDiam = NA
data_install$dendHt = NA
data_install$type = NA
data_install$dendroID = NA
data_install$install.date = NA
data_install$surveyor = NA
data_install$dbhnew = NA
data_install<-data_install[,c(1:6,14,16,11,12,10,13,7:8,15,9)]
library(dplyr)
data_intra<-data_intra %>% rename("codes&notes" = codes, "stem" = stemtag)
data_install<-data_install %>% rename("codes&notes" = codes, "stem" = stemtag)
data_install$location<-gsub("South", "S", data_install$location)
data_install$location<-gsub("North", "N", data_install$location)
data_install<-sapply(data_install, as.character)
data_install[is.na(data_install)] <- " "
matrix <- function(data_install, table_title) {
rbind(c(table_title, rep('', ncol(data_install)-1)), # title
names(data_install), # column names
unname(sapply(data_install, as.character))) # data
}
temp <- matrix(data_install, table_title=('Dendroband Replacement        Date:'))
library(xlsx)
write.xlsx(temp, "data_entry_bandreplace.xlsx", row.names = FALSE)
data_install<-data_2018[which(data_2018$survey.ID=='2018.01'), ]
#when trouble-shooting code, remove: &data_2018$codes=='RD'
#subset by RD codes and one entry per stem
data_install<-data_install[ ,c(1:2,7:12,15,21,24,25,27)]
data_install$measure = NA
data_install$codes = NA
data_install$dendDiam = NA
data_install$dendHt = NA
data_install$type = NA
data_install$dendroID = NA
data_install$install.date = NA
data_install$surveyor = NA
data_install$dbhnew = NA
data_install<-data_install[,c(1:6,14,16,11,12,10,13,7:8,15,9)]
library(dplyr)
data_install<-data_install %>% rename("codes&notes" = codes, "stem" = stemtag)
data_install<-sapply(data_install, as.character)
data_install[is.na(data_install)] <- " "
data_install$location<-gsub("South", "S", data_install$location)
data_install$location<-gsub("North", "N", data_install$location)
prevmeasin <- subset(data_2018,survey.ID=="2018.01" & intraannual=="1") #subset by previous survey.ID
data_intra <- subset(data_2018,survey.ID=="2018.01" & intraannual=="1") #subset by 2018.01 (one entry per stem)
data_intra<-data_intra[ ,c(1,2,7:12,15,22)]
data_intra$measure = NA
data_intra$codes = NA
data_intra$"Date2: SvID: Name:" = NA
data_intra$"Date3: SvID: Name:" = NA
data_intra$"Date4: SvID: Name:" = NA
data_intra$"Date5: SvID: Name:" = NA
library(dplyr)
data_intra<-data_intra %>% rename("Date1:  SvID:   Name:" = measure, "codes&notes" = codes, "stem" = stemtag)
data_intra$prevmeas = prevmeasin$measure
data_intra[is.na(data_intra)&!is.na(data_intra$prevmeas)] <- " "
data_intra<-data_intra[,c(1:3,10,4:6,15,7,11:14,8:9)]
data_intra$location<-gsub("South", "S", data_intra$location)
data_intra$location<-gsub("North", "N", data_intra$location)
data_install<-data_2018[which(data_2018$survey.ID=='2018.01'), ]
data_install<-data_install[ ,c(1:2,7:12,15,21,24,25,27)]
data_install$measure = NA
data_install$codes = NA
data_install$dendDiam = NA
data_install$dendHt = NA
data_install$type = NA
data_install$dendroID = NA
data_install$install.date = NA
data_install$surveyor = NA
data_install$dbhnew = NA
library(dplyr)
data_install<-data_install %>% rename("codes&notes" = codes, "stem" = stemtag)
data_install[is.na(data_install)] <- " "
data_install<-data_install[,c(1:6,14,16,11,12,10,13,7:8,15,9)]
data_install$location<-gsub("South", "S", data_install$location)
data_install$location<-gsub("North", "N", data_install$location)
matrix <- function(data_install, table_title) {
rbind(c(table_title, rep('', ncol(data_install)-1)), # title
names(data_install), # column names
unname(sapply(data_install, as.character))) # data
}
temp <- matrix(data_install, table_title=('Dendroband Replacement        Date:'))
library(xlsx)
write.xlsx(temp, "field_form_bandreplace.xlsx", row.names = FALSE, col.names=FALSE)
data_install<-data_2018[which(data_2018$survey.ID=='2018.01'), ]
data_install<-data_install[ ,c(1:2,7:12,15,21,24,25,27)]
data_install$measure = NA
data_install$codes = NA
data_install$dendDiam = NA
data_install$dendHt = NA
data_install$type = NA
data_install$dendroID = NA
data_install$install.date = NA
data_install$dbhnew = NA
library(dplyr)
data_install<-data_install %>% rename("codes&notes" = codes, "stem" = stemtag)
data_install[is.na(data_install)] <- " "
View(data_install)
data_install<-data_install[,c(1:6,14,15,11,12,10,13,7:9)]
data_install$location<-gsub("South", "S", data_install$location)
data_install$location<-gsub("North", "N", data_install$location)
matrix <- function(data_install, table_title) {
rbind(c(table_title, rep('', ncol(data_install)-1)), # title
names(data_install), # column names
unname(sapply(data_install, as.character))) # data
}
temp <- matrix(data_install, table_title=('Dendroband Replacement        Date:'))
library(xlsx)
write.xlsx(temp, "field_form_bandreplace.xlsx", row.names = FALSE, col.names=FALSE)
data_install<-data_2018[which(data_2018$survey.ID=='2018.01'), ]
#when trouble-shooting code, remove: &data_2018$codes=='RD'
#subset by RD codes and one entry per stem
data_install<-data_install[ ,c(1:2,7:12,15,21,24,25,27)]
data_install$measure = NA
data_install$codes = NA
data_install$dendDiam = NA
data_install$dendHt = NA
data_install$type = NA
data_install$dendroID = NA
data_install$install.date = NA
data_install$dbhnew = NA
library(dplyr)
data_install<-data_install %>% rename("codes&notes" = codes, "stem" = stemtag)
data_install[is.na(data_install)] <- " "
data_install<-data_install[,c(1:6,14,15,11,12,10,13,7:9)]
data_install$location<-gsub("South", "S", data_install$location)
data_install$location<-gsub("North", "N", data_install$location)
matrix <- function(data_install, table_title) {
rbind(c(table_title, rep('', ncol(data_install)-1)), # title
names(data_install), # column names
unname(sapply(data_install, as.character))) # data
}
temp <- matrix(data_install, table_title=('Dendroband Replacement        Date:                       Surveyors:'))
library(xlsx)
write.xlsx(temp, "field_form_bandreplace.xlsx", row.names = FALSE, col.names=FALSE)
